!function(e){e.module("moviecat.movielist",["ngRoute"]).config(["$routeProvider",function(e){e.when("/:movieType/:page?",{templateUrl:"./movie_list/view.html",controller:"movie_listController"}).otherwise({redirectTo:"/home_page"})}]).controller("movie_listController",["$scope","$routeParams","$route","myjsonp",function(e,o,t,a){e.isLoaded=!0,e.curPage=o.page||1,e.pageSize=5;var i=(e.curPage-1)*e.pageSize;a.jsonp("http://api.douban.com/v2/movie/"+o.movieType,{start:i,count:e.pageSize,q:o.q},function(o){e.totalPages=Math.ceil(o.total/e.pageSize),e.movie=o,e.isLoaded=!1,e.$apply()}),e.goPages=function(o){return!(o<=0||o>e.totalPages)&&void t.updateParams({page:o})}}])}(angular);